<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Storyforge ✨ - Create Magical Audio Stories</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Kalam:wght@300;400;700&family=Caveat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>📚</text></svg>">
</head>
<body>
    <div class="theme-toggle">
        <button id="theme-toggle" class="theme-btn" aria-label="Toggle dark mode">
            <span class="sun-icon">☀️</span>
            <span class="moon-icon">🌙</span>
        </button>
    </div>
    
    <header class="main-header">
        <div class="logo-container">
            <div class="yoto-logo">
                <span class="yoto-text">YOTO</span>
                <div class="logo-doodles">
                    <span class="doodle-star">★</span>
                    <span class="doodle-heart">♡</span>
                </div>
            </div>
        </div>
        <h1 class="main-title">
            <span class="title-word">The</span>
            <span class="title-word highlight">Storyforge</span>
            <div class="title-doodle">✨</div>
        </h1>
        <p class="subtitle">Where imagination becomes audio magic!</p>
    </header>

    <main class="main-content">
        <div class="auth-section paper-scrap">
            <button id="login-button" class="login-btn paper-btn">
                <span class="btn-text">Connect to Yoto</span>
                <div class="btn-doodle">🔗</div>
            </button>
            <button id="logout-button" class="logout-btn paper-btn hidden">
                <span class="btn-text">Disconnect</span>
                <div class="btn-doodle">👋</div>
            </button>
        </div>

        <div id="app-content" class="app-container hidden">
            <!-- Welcome Section -->
            <div class="welcome-section paper-scrap">
                <div class="welcome-content">
                    <h2 class="welcome-title">
                        <span>Choose Your Story Adventure!</span>
                        <div class="title-doodles">
                            <span class="doodle">✨</span>
                            <span class="doodle">🎭</span>
                            <span class="doodle">✨</span>
                        </div>
                    </h2>
                    <p class="welcome-description">
                        Pick a storytelling mode below to start creating your magical adventure!
                    </p>
                </div>
            </div>

            <!-- Mode Selection Grid -->
            <div class="mode-selection-grid">
                <button class="mode-btn paper-scrap" data-mode="classic">
                    <div class="mode-icon">📚</div>
                    <div class="mode-content">
                        <h3 class="mode-title">Classic Story</h3>
                        <p class="mode-description">Create traditional tales with heroes, adventures, and magical endings</p>
                        <div class="mode-doodles">
                            <span>⚔️</span>
                            <span>🏰</span>
                            <span>✨</span>
                        </div>
                    </div>
                </button>

                <button class="mode-btn paper-scrap" data-mode="wanted-poster">
                    <div class="mode-icon">🤠</div>
                    <div class="mode-content">
                        <h3 class="mode-title">Wanted Poster</h3>
                        <p class="mode-description">Create Wild West adventures with outlaws, sheriffs, and frontier justice</p>
                        <div class="mode-doodles">
                            <span>🌵</span>
                            <span>⭐</span>
                            <span>🐎</span>
                        </div>
                    </div>
                </button>

                <button class="mode-btn paper-scrap" data-mode="homework-forge">
                    <div class="mode-icon">📝</div>
                    <div class="mode-content">
                        <h3 class="mode-title">Homework Forge</h3>
                        <p class="mode-description">Turn learning into adventure! Educational stories that make subjects exciting</p>
                        <div class="mode-doodles">
                            <span>🧮</span>
                            <span>🔬</span>
                            <span>📖</span>
                        </div>
                    </div>
                </button>

                <button class="mode-btn paper-scrap" data-mode="sleep-forge">
                    <div class="mode-icon">🌙</div>
                    <div class="mode-content">
                        <h3 class="mode-title">Sleep Forge</h3>
                        <p class="mode-description">Gentle, calming bedtime stories with soothing narration</p>
                        <div class="mode-doodles">
                            <span>⭐</span>
                            <span>🛏️</span>
                            <span>💤</span>
                        </div>
                    </div>
                </button>

                <button class="mode-btn paper-scrap" data-mode="monster-maker">
                    <div class="mode-icon">👹</div>
                    <div class="mode-content">
                        <h3 class="mode-title">Monster Maker</h3>
                        <p class="mode-description">Design custom creatures and hear their wild adventures come to life</p>
                        <div class="mode-doodles">
                            <span>🎨</span>
                            <span>🦄</span>
                            <span>🐉</span>
                        </div>
                    </div>
                </button>

                <button class="mode-btn paper-scrap" data-mode="help">
                    <div class="mode-icon">💡</div>
                    <div class="mode-content">
                        <h3 class="mode-title">Help & Templates</h3>
                        <p class="mode-description">Get tips, guides, and downloadable templates for better storytelling</p>
                        <div class="mode-doodles">
                            <span>📋</span>
                            <span>⭐</span>
                            <span>🎯</span>
                        </div>
                    </div>
                </button>
            </div>

            <!-- Dynamic Mode Content Area -->
            <div id="mode-content" class="mode-content-container hidden">
                <!-- Mode-specific content will be dynamically loaded here -->
            </div>
        
            <div id="story-output" class="story-output-container hidden">
                <div class="story-header paper-scrap">
                    <h2 class="story-title">
                        <span>📚 Your Epic Tale! 📚</span>
                        <div class="title-underline"></div>
                    </h2>
                    <div class="story-doodles">
                        <span class="doodle">✨</span>
                        <span class="doodle">🌟</span>
                        <span class="doodle">✨</span>
                    </div>
                </div>
                
                <div class="loading-section paper-scrap" id="loading-section">
                    <div id="loading-spinner" class="magical-spinner"></div>
                    <p class="loading-text">
                        <span class="loading-emoji">✨</span>
                        <span>Brewing your magical story...</span>
                        <span class="loading-emoji">✨</span>
                    </p>
                </div>
                
                <div class="story-content paper-scrap" id="story-content">
                    <div class="story-text-container">
                        <div class="story-decoration-top">
                            <span>🌟</span>
                            <span>✨</span>
                            <span>🌟</span>
                        </div>
                        <p id="story-text" class="story-text"></p>
                        <div class="story-decoration-bottom">
                            <span>✨</span>
                            <span>🌟</span>
                            <span>✨</span>
                        </div>
                    </div>
                </div>
                
                <div class="audio-section paper-scrap" id="audio-section">
                    <div class="audio-header">
                        <span class="audio-icon">🎧</span>
                        <span class="audio-text">Listen to Your Story</span>
                        <span class="audio-icon">🎵</span>
                    </div>
                    <audio id="story-audio-player" controls class="story-audio hidden"></audio>
                </div>
                
                <div class="yoto-section paper-scrap" id="yoto-section">
                    <button id="upload-to-yoto-button" class="yoto-btn hidden">
                        <span class="btn-icon">🎧</span>
                        <span class="btn-text">Upload to Yoto</span>
                        <span class="btn-magic">✨</span>
                    </button>
                </div>
            </div>
        </div>
    </main>
    
    <div id="alert-modal" class="modal hidden">
        <div class="modal-content paper-scrap">
            <span class="close-button">&times;</span>
            <div class="modal-header">
                <span class="modal-icon">🚨</span>
                <div class="modal-doodles">
                    <span>★</span>
                    <span>♡</span>
                </div>
            </div>
            <p id="alert-message" class="alert-text"></p>
        </div>
    </div>
    
    <!-- Background Doodles -->
    <div class="background-doodles">
        <div class="doodle-element doodle-star" style="top: 10%; left: 5%;">★</div>
        <div class="doodle-element doodle-heart" style="top: 15%; right: 8%;">♡</div>
        <div class="doodle-element doodle-arrow" style="top: 30%; left: 3%;">↗</div>
        <div class="doodle-element doodle-swirl" style="top: 45%; right: 5%;">∿</div>
        <div class="doodle-element doodle-star" style="bottom: 20%; left: 7%;">✦</div>
        <div class="doodle-element doodle-circle" style="bottom: 15%; right: 10%;">○</div>
        <div class="doodle-element doodle-zigzag" style="bottom: 40%; left: 2%;">〰</div>
        <div class="doodle-element doodle-triangle" style="top: 60%; right: 3%;">△</div>
    </div>
    
    <script type="module" src="script.js"></script>
    <script type="module" src="tokens.js"></script>
</body>
</html>
